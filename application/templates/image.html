{% extends "template.html" %}
{% block content %}
<section id="one" class="wrapper style1">
<div class="container 75%">
     <!-- <h2>{{ title }}</h2> -->
    {% if first %}
    <title> Image prediction Page </title>
    <div class="row 200%">
      <div class="6u 12u$(medium)">
        <header class="major">
          <div class="image"><P><img src="{{ image_file }}" alt="" width="320" height="320"/></P></div>
        </header>
      </div>
      <div class="feature">
      </div>
      <div class="6u$ 12u$(medium)">
          <h2>Predictions: </h2>
          <p>{{ first }}</p>
          <p>{{ second }}</p>
          <p>{{ third }}</p>
          <a href="{{ url_for('dl') }}" class="button special big">predict again</a>
      </div>
    </div>

    {% else %}
      <div class="row 200%">
        <div class="6u 12u$(medium)">
          <div class="image"><P><img id="output" width="320" height="320"></P></div>
        </div>
        <div class="feature">
        </div>
        <div class="6u$ 12u$(medium)">
          <h2>{{ title }}</h2>
          <h4>ResNet Trained on imageNet</h4>
          <strong>Note: </strong>Upload image to the Flask web service serving the classification model and then predict
          <form method=post enctype=multipart/form-data>
            <p>
              <input type=file accept="image/*" name=file id="file" onchange="loadFile(event)" required>
            <input type=submit value="Predict" class="special"></p>
          </form>
          </div>
      </div>

      <script>
      var loadFile = function(event) {
        var image = document.getElementById('output');
      	image.src = URL.createObjectURL(event.target.files[0]);
      };
      </script>
    {% endif %}
  </div>
</section>
{% endblock %}
